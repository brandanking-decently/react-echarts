{"version":3,"sources":["webpack://@hcorta/react-echarts/./src/components/ReactEcharts/index.js","webpack://@hcorta/react-echarts/webpack/runtime/getFullHash"],"names":["ReactEcharts","props","disposeEchartsInstance","echartsLib","dispose","containerRef","setEchartsInstance","echartsInstance","init","theme","options","setResizeObserver","ro","ResizeObserver","resize","observe","bindEchartsEvents","onEvents","on","event","param","renderDOM","setOption","option","notMerge","lazyUpdate","renderLoading","isLoading","showLoading","loadingOption","hideLoading","echarts","prevProps","shouldComponentUpdate","isEqual","style","className","id","ref","cx","Component","defaultProps","onChartReady","renderer","echartsRef","onMount","onChange","getInstance","onClick","onDoubleClick","onMouseDown","onMouseMove","onMouseUp","onMouseOver","onMouseOut","onGlobalOut","onContextMenu"],"mappings":"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","file":"main.167222d7c73b43af4eaa.hot-update.js","sourcesContent":["'use strict'\n\n// Dependencies\nimport React, { Component } from 'react'\nimport echarts from 'echarts/lib/echarts'\nimport cx from 'classnames'\n\n// Utils\nimport { isEqual } from 'utils'\n\nexport class ReactEcharts extends Component {\n  constructor (props) {\n    super(props)\n    this.echartsLib = echarts\n    this.echartsInstance = null\n    this.containerRef = null\n  }\n\n  componentDidMount () {\n    this.setEchartsInstance()\n    this.setResizeObserver()\n    this.bindEchartsEvents()\n    this.renderLoading()\n    this.renderDOM()\n  }\n\n  shouldComponentUpdate (prevProps) {\n    return this.props.shouldComponentUpdate(prevProps, this.props)\n  }\n\n  componentWillUnmount () {\n    this.disposeEchartsInstance()\n  }\n\n  componentDidUpdate (prevProps) {\n    if (!isEqual(prevProps.isLoading, this.props.isLoading)) {\n      this.renderLoading()\n    }\n\n    if (\n      !isEqual(prevProps.lazyUpdate, this.props.lazyUpdate) ||\n      !isEqual(prevProps.notMerge, this.props.notMerge) ||\n      !isEqual(prevProps.option, this.props.option) ||\n      !isEqual(prevProps.theme, this.props.theme) ||\n      !isEqual(prevProps.options, this.props.options) ||\n      !isEqual(prevProps.onEvents, this.props.onEvents)\n    ) {\n      return this.renderDOM()\n    }\n\n    if (\n      !isEqual(prevProps.style, this.props.style) ||\n      !isEqual(prevProps.className, this.props.className)\n    ) {\n      return this.echartsInstance.resize()\n    }\n  }\n\n  disposeEchartsInstance = () => {\n    this.echartsLib.dispose(this.containerRef)\n  }\n\n  setEchartsInstance = () => {\n    this.echartsInstance = this.echartsLib.init(this.containerRef,\n      this.props.theme,\n      this.props.options)\n  }\n\n  setResizeObserver = () => {\n    const ro = new ResizeObserver(() => {\n      this.echartsInstance.resize()\n    })\n\n    ro.observe(this.containerRef)\n  }\n\n  bindEchartsEvents = () => {\n    const { onEvents, on } = this.props\n\n    if (on) {\n      this.echartsInstance.on(on)\n    }\n\n    for (const event in onEvents) {\n      if (typeof event === 'string' && typeof onEvents[event] === 'function') {\n        this.echartsInstance.on(event, (param) => {\n          onEvents[event](param, this.echartsInstance)\n        })\n      }\n    }\n  }\n\n  renderDOM = () => {\n    this.echartsInstance.setOption(this.props.option,\n      this.props.notMerge,\n      this.props.lazyUpdate)\n  }\n\n  renderLoading = () => {\n    if (this.props.isLoading) {\n      this.echartsInstance.showLoading(this.props.loadingOption)\n    }\n\n    this.echartsInstance.hideLoading()\n  }\n\n  render () {\n    const { style, className, id } = this.props\n\n    return (\n      <div\n        ref={(ref) => (this.containerRef = ref)}\n        style={style}\n        id={id}\n        className={cx('react-echarts', className)}\n      />\n    )\n  }\n}\n\nReactEcharts.defaultProps = {\n  style: {},\n  className: '',\n  shouldComponentUpdate: () => true,\n  notMerge: false,\n  lazyUpdate: false,\n  theme: null,\n  onChartReady: () => {},\n  isLoading: false,\n  loadingOption: null,\n  onEvents: {},\n  on: null,\n  options: {\n    renderer: 'svg'\n  },\n\n  // External added props\n  echartsRef: null,\n  onMount: null,\n  onChange: null,\n  getInstance: null,\n\n  // Events register\n  onClick: null,\n  onDoubleClick: null,\n  onMouseDown: null,\n  onMouseMove: null,\n  onMouseUp: null,\n  onMouseOver: null,\n  onMouseOut: null,\n  onGlobalOut: null,\n  onContextMenu: null\n}\n","__webpack_require__.h = () => \"ce08b72d40cd6da23813\""],"sourceRoot":""}