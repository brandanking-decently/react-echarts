{"version":3,"sources":["webpack://@hcorta/react-echarts/./src/components/ReactEcharts/index.js","webpack://@hcorta/react-echarts/webpack/runtime/getFullHash"],"names":["ReactEcharts","props","disposeEchartsInstance","echartsLib","dispose","containerRef","setEchartsInstance","echartsInstance","init","theme","options","setResizeObserver","ro","ResizeObserver","resize","observe","bindEchartsEvents","onEvents","on","event","param","renderDOM","setOption","option","notMerge","lazyUpdate","renderLoading","isLoading","showLoading","loadingOption","hideLoading","echarts","prevProps","shouldComponentUpdate","console","log","isEqual","style","className","id","ref","cx","Component","defaultProps","onChartReady","renderer","echartsRef","onMount","onChange","title","legend","grid","xAxis","yAxis","polar","radiusAxis","angleAxis","radar","dataZoom","visualMap","tooltip","axisPointer","toolbox","brush","geo","parallel","parallelAxis","singleAxis","timeline","graphic","calendar","dataset","aria","series","color","backgroundColor","textStyle","animation","animationThreshold","animationDuration","animationEasing","animationDelay","animationDurationUpdate","animationEasingUpdate","animationDelayUpdate","blendMode","hoverLayerThreshold","useUTC","undefined"],"mappings":"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","file":"main.439e7a4efe4b2dee8991.hot-update.js","sourcesContent":["'use strict'\n\n// Dependencies\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport echarts from 'echarts/lib/echarts'\nimport cx from 'classnames'\n\n// Utils\nimport { pick, isEqual } from 'utils'\n\nexport class ReactEcharts extends Component {\n  constructor (props) {\n    super(props)\n    this.echartsLib = echarts\n    this.echartsInstance = null\n    this.containerRef = null\n  }\n\n  componentDidMount () {\n    this.setEchartsInstance()\n    this.setResizeObserver()\n    this.bindEchartsEvents()\n    this.renderLoading()\n    this.renderDOM()\n  }\n\n  shouldComponentUpdate (prevProps) {\n    return this.props.shouldComponentUpdate(prevProps, this.props)\n  }\n\n  componentWillUnmount () {\n    console.log('UNMONUT')\n    this.disposeEchartsInstance()\n  }\n\n  componentDidUpdate (prevProps) {\n    if (!isEqual(prevProps.isLoading, this.props.isLoading)) {\n      this.renderLoading()\n    }\n\n    if (\n      !isEqual(prevProps.lazyUpdate, this.props.lazyUpdate) ||\n      !isEqual(prevProps.notMerge, this.props.notMerge) ||\n      !isEqual(prevProps.option, this.props.option) ||\n      !isEqual(prevProps.theme, this.props.theme) ||\n      !isEqual(prevProps.options, this.props.options) ||\n      !isEqual(prevProps.onEvents, this.props.onEvents)\n    ) {\n      return this.renderDOM()\n    }\n\n    if (\n      !isEqual(prevProps.style, this.props.style) ||\n      !isEqual(prevProps.className, this.props.className)\n    ) {\n      return this.echartsInstance.resize()\n    }\n  }\n\n  disposeEchartsInstance = () => {\n    this.echartsLib.dispose(this.containerRef)\n  }\n\n  setEchartsInstance = () => {\n    this.echartsInstance = this.echartsLib.init(this.containerRef,\n      this.props.theme,\n      this.props.options)\n  }\n\n  setResizeObserver = () => {\n    const ro = new ResizeObserver(() => {\n      this.echartsInstance.resize()\n    })\n\n    ro.observe(this.containerRef)\n  }\n\n  bindEchartsEvents = () => {\n    const { onEvents, on } = this.props\n\n    if (on) {\n      this.echartsInstance.on(on)\n    }\n\n    for (const event in onEvents) {\n      if (typeof event === 'string' && typeof onEvents[event] === 'function') {\n        this.echartsInstance.on(event, (param) => {\n          onEvents[event](param, this.echartsInstance)\n        })\n      }\n    }\n  }\n\n  renderDOM = () => {\n    this.echartsInstance.setOption(this.props.option,\n      this.props.notMerge,\n      this.props.lazyUpdate)\n  }\n\n  renderLoading = () => {\n    if (this.props.isLoading) {\n      this.echartsInstance.showLoading(this.props.loadingOption)\n    }\n\n    this.echartsInstance.hideLoading()\n  }\n\n  render () {\n    const { style, className, id } = this.props\n\n    return (\n      <div\n        ref={(ref) => (this.containerRef = ref)}\n        style={style}\n        id={id}\n        className={cx('react-echarts', className)}\n      />\n    )\n  }\n}\n\n// ReactEcharts.propTypes = {\n//   option: PropTypes.object.isRequired, // eslint-disable-line react/forbid-prop-types\n//   echarts: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n//   notMerge: PropTypes.bool,\n//   lazyUpdate: PropTypes.bool,\n//   style: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n//   className: PropTypes.string,\n//   theme: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n//   onChartReady: PropTypes.func,\n//   showLoading: PropTypes.bool,\n//   loadingOption: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n//   onEvents: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n//   options: PropTypes.shape({\n//     devicePixelRatio: PropTypes.number,\n//     renderer: PropTypes.oneOf(['canvas', 'svg']),\n//     width: PropTypes.oneOfType([\n//       PropTypes.number,\n//       PropTypes.oneOf([null, undefined, 'auto'])\n//     ]),\n//     height: PropTypes.oneOfType([\n//       PropTypes.number,\n//       PropTypes.oneOf([null, undefined, 'auto'])\n//     ])\n//   }),\n//   shouldSetOption: PropTypes.func\n// }\n\nReactEcharts.defaultProps = {\n  style: {},\n  className: '',\n  shouldComponentUpdate: () => true,\n  notMerge: false,\n  lazyUpdate: false,\n  theme: null,\n  onChartReady: () => {},\n  isLoading: false,\n  loadingOption: null,\n  onEvents: {},\n  on: null,\n  options: {\n    renderer: 'svg'\n  },\n\n  // External added props\n  echartsRef: null,\n  onMount: null,\n  onChange: null,\n\n  //\n\n  title: null,\n  legend: null,\n  grid: null,\n  xAxis: null,\n  yAxis: null,\n  polar: null,\n  radiusAxis: null,\n  angleAxis: null,\n  radar: null,\n  dataZoom: null,\n  visualMap: null,\n  tooltip: null,\n  axisPointer: null,\n  toolbox: null,\n  brush: null,\n  geo: null,\n  parallel: null,\n  parallelAxis: null,\n  singleAxis: null,\n  timeline: null,\n  graphic: null,\n  calendar: null,\n  dataset: null,\n  aria: null,\n  series: null,\n  color: null,\n  backgroundColor: null,\n  textStyle: null,\n  animation: true,\n  animationThreshold: 2000,\n  animationDuration: 1000,\n  animationEasing: 'cubicOut',\n  animationDelay: 0,\n  animationDurationUpdate: 300,\n  animationEasingUpdate: 'cubicOut',\n  animationDelayUpdate: 0,\n  blendMode: 'source-over',\n  hoverLayerThreshold: 3000,\n  useUTC: false,\n  options: undefined,\n  media: [null]\n}\n","__webpack_require__.h = () => \"606f1737e2f88d46fb33\""],"sourceRoot":""}